#!/usr/bin/env python
# -*- coding: utf-8 -*-
from os import walk
try: from cPickle import dump,load,HIGHEST_PROTOCOL
except: from pickle import dump,load,HIGHEST_PROTOCOL

def _serialize(file_name,object): 
	""" Serializa un objeto python en un determinado fichero.

		Almacena en un fichero el contenido del objeto serializado.
    
		Par치metros:
		file_name	-- Ruta del fichero donde almacenar el contenido.
		
		Excepciones:
		A implementar.
    
    """
	with open(file_name,'wb') as fd: dump(object,fd,HIGHEST_PROTOCOL)
	
def _unserialize(file_name):
	""" Deserializar un fichero con contenido serializado.

		Devuelve una lista con el contenido serializado.
    
		Par치metros:
		file_name	-- Ruta del fichero con contenido serializado.
		
		Excepciones:
		A implementar.
    
    """
	res = []
	with open(file_name,'rb') as fd: res.append(load(fd))
	return res

def _get_ngrams(instructions,ngrams):
	""" Obtiene el conjunto de ngramas dada una lista de instrucciones
	
		Devuelve el conjunto de ngramas

		Par치metros:
		pe      		   -- Objeto de pefile con el programa abierto.

		Excepciones:
		A implementar
    """
	ngrams = set()
	for i in xrange(len(instructions)-NGRAMS-1): ngrams.add(tuple(instructions[i:i+4]))
	return list(ngrams)

def _get_files(path):
	""" Obtiene la ruta absoluta de los ficheros de un directorio
	
		Devuelve de rutas absolutas.

		Par치metros:
		pe      		   -- Objeto de pefile con el programa abierto.

		Excepciones:
		A implementar
    """
	res = []
	for root,dirs,files in walk(path):
		for fd in files: res.append(root+"/"+fd)
	return res
	
