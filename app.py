from flask import Flask, render_template, url_for, redirect, abort, escape
from WMD import WMD
app = Flask(__name__)

################
#WEBSITE ROUTES#
################
@app.route("/")
def index():
    return render_template("index.html")

@app.route("/contribute")
def contribute():
	return render_template("contribute.html")

@app.route("/train")
def train(result=None):
	result = WMD().train()
	return render_template("trained.html", result=result)

@app.route("/predict")
def predict(result=None):
	result = WMD().predict()
	result = "".join(result).split("\n")
	return render_template("predicted.html", result=result)

@app.route("/stats")
def stats(result=None):
	result = WMD().stats()
	return render_template("stats.html", result=result)
#############
#ERROR PAGES#
#############

#Not found error
@app.errorhandler(404)
def page_not_found(e):
	return render_template("404.html"), 404
	
#Forbidden error
@app.errorhandler(403)
def forbidden(e):
	return render_template("403.html"), 403
	
#Internal server error
@app.errorhandler(500)
def internal_sv(e):
	return render_template("500.html"), 500


if __name__ == "__main__":
    app.run(debug=True)
